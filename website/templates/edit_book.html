{% extends "base.html" %}
{% block title %}Edit Book{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- Back button -->
    <div class="mb-3">
        <a href="/books/{{ book.id }}" class="btn btn-secondary">‚Üê Back to Book</a>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3>Edit Book</h3>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <!-- Title (required) -->
                        <div class="form-group">
                            <label for="title">Title <span class="text-danger">*</span></label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="title" 
                                name="title" 
                                value="{{ book.title }}"
                                placeholder="Enter book title"
                                required
                            />
                        </div>

                        <!-- Author (required) -->
                        <div class="form-group">
                            <label for="author">Author <span class="text-danger">*</span></label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="author" 
                                name="author" 
                                value="{{ book.author }}"
                                placeholder="Enter author name"
                                required
                            />
                        </div>

                        <!-- ISBN (optional) -->
                        <div class="form-group">
                            <label for="isbn">ISBN</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="isbn" 
                                name="isbn" 
                                value="{{ book.isbn or '' }}"
                                placeholder="978-0-452-28423-4"
                            />
                            <small class="form-text text-muted">Optional</small>
                        </div>

                        <!-- Genre (optional) -->
                        <div class="form-group">
                            <label for="genre">Genre</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="genre" 
                                name="genre" 
                                value="{{ book.genre or '' }}"
                                placeholder="Fiction, Science Fiction, Romance, etc."
                            />
                            <small class="form-text text-muted">Optional</small>
                        </div>

                        <div class="form-row">
                            <!-- Publication Year (optional) -->
                            <div class="form-group col-md-6">
                                <label for="publication_year">Publication Year</label>
                                <input 
                                    type="number" 
                                    class="form-control" 
                                    id="publication_year" 
                                    name="publication_year" 
                                    value="{{ book.publication_year or '' }}"
                                    placeholder="2024"
                                    min="1000"
                                    max="2100"
                                />
                                <small class="form-text text-muted">Optional</small>
                            </div>

                            <!-- Pages (optional) -->
                            <div class="form-group col-md-6">
                                <label for="pages">Pages</label>
                                <input 
                                    type="number" 
                                    class="form-control" 
                                    id="pages" 
                                    name="pages" 
                                    value="{{ book.pages or '' }}"
                                    placeholder="328"
                                    min="1"
                                />
                                <small class="form-text text-muted">Optional</small>
                            </div>
                        </div>

                        <!-- Cover URL (optional) -->
                        <div class="form-group">
                            <label for="cover_url">Cover Image URL</label>
                            <input 
                                type="url" 
                                class="form-control" 
                                id="cover_url" 
                                name="cover_url" 
                                value="{{ book.cover_url or '' }}"
                                placeholder="https://example.com/cover.jpg"
                            />
                            <small class="form-text text-muted">Optional - Direct link to book cover image</small>
                        </div>

                        <!-- Description (optional) -->
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea 
                                class="form-control" 
                                id="description" 
                                name="description" 
                                rows="5"
                                placeholder="Enter a brief description of the book..."
                            >{{ book.description or '' }}</textarea>
                            <small class="form-text text-muted">Optional</small>
                        </div>

                        <hr>

                        <!-- Buttons -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-success btn-lg">Save Changes</button>
                            <a href="/books/{{ book.id }}" class="btn btn-secondary btn-lg">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Info box -->
            <div class="alert alert-info mt-3">
                <strong>Note:</strong> You are editing: <strong>{{ book.title }}</strong> by {{ book.author }}
            </div>
        </div>
    </div>
</div>
{% endblock %}